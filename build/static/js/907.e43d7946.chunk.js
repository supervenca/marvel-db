"use strict";(self.webpackChunkmarvel=self.webpackChunkmarvel||[]).push([[907],{613:(e,a,t)=>{t.d(a,{Z:()=>i});const s=t.p+"static/media/error.42292aa12b6bc303ce99.gif";var c=t(184);const i=()=>(0,c.jsx)("img",{style:{display:"block",width:"250px",height:"250px",objectFit:"contain",margin:"0 auto"},src:s,alt:"Error"})},704:(e,a,t)=>{t.r(a),t.d(a,{default:()=>h});var s=t(270),c=t(791),i=t(87),n=t(394),r=t(613),o=t(557),l=t(184);const m=e=>{const[a,t]=(0,c.useState)([]),[s,m]=(0,c.useState)(!1),[d,u]=(0,c.useState)(0),[p,h]=(0,c.useState)(!1),{loading:g,error:b,getAllComics:f}=(0,o.Z)();(0,c.useEffect)((()=>{v(d,!0)}),[]);const v=(e,a)=>{m(!a),f(e).then(x)},x=e=>{let a=!1;e.length<8&&(a=!0),t((a=>[...a,...e])),m(!1),u((e=>e+9)),h(a)};const j=function(e){const a=e.map(((e,a)=>(0,l.jsx)("li",{className:"comics__item",children:(0,l.jsxs)(i.rU,{to:"/comics/".concat(e.id),children:[(0,l.jsx)("img",{src:e.img,alt:e.name,className:"comics__item-img"}),(0,l.jsx)("div",{className:"comics__item-name",children:e.name}),(0,l.jsx)("div",{className:"comics__item-price",children:"".concat(e.price," $")})]})},a)));return(0,l.jsx)("ul",{className:"comics__grid",children:a})}(a),y=b?(0,l.jsx)(r.Z,{}):null,w=g&&!s?(0,l.jsx)(n.Z,{}):null;return(0,l.jsxs)("div",{className:"comics__list",children:[y,w,j,(0,l.jsx)("button",{className:"button button__main button__long",disabled:s,style:{display:p?"none":"block"},onClick:()=>v(d),children:(0,l.jsx)("div",{className:"inner",children:"load more"})})]})},d=t.p+"static/media/Avengers.4065c8f9c94e3d8b039a.png",u=t.p+"static/media/Avengers_logo.9eaf219344d83362e830.png",p=()=>(0,l.jsxs)("div",{className:"app__banner",children:[(0,l.jsx)("img",{src:d,alt:"Avengers"}),(0,l.jsxs)("div",{className:"app__banner-text",children:["New comics every week!",(0,l.jsx)("br",{}),"Stay tuned!"]}),(0,l.jsx)("img",{src:u,alt:"Avengers logo"})]}),h=()=>(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)(s.q,{children:[(0,l.jsx)("meta",{name:"description",content:"Page with list of our comics"}),(0,l.jsx)("title",{children:"Comics Page"})]}),(0,l.jsx)(p,{}),(0,l.jsx)(m,{})]})},557:(e,a,t)=>{t.d(a,{Z:()=>c});var s=t(791);const c=()=>{const{loading:e,error:a,request:t,clearError:c}=(()=>{const[e,a]=(0,s.useState)(!1),[t,c]=(0,s.useState)(null);return{loading:e,request:(0,s.useCallback)((async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"GET",s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{"Content-Type":"application/json"};a(!0);try{const c=await fetch(e,{method:t,body:s,headers:i});if(!c.ok)throw new Error("Could not fetch ".concat(e,", status: ").concat(c.status));const n=await c.json();return a(!1),n}catch(n){throw a(!1),c(n.message),n}}),[]),error:t,clearError:(0,s.useCallback)((()=>c(null)),[])}})(),i=e=>({id:e.id,name:e.name,description:e.description?"".concat(e.description.slice(0,210),"..."):"There is no description for this character",thumbnail:e.thumbnail.path+"."+e.thumbnail.extension,homepage:e.urls[0].url,wiki:e.urls[1].url,comics:e.comics.items}),n=e=>{var a;return{id:e.id,name:e.title,img:e.thumbnail.path+"."+e.thumbnail.extension,price:e.prices[0].price?"".concat(e.prices[0].price,"$"):"not available",description:e.description||"There is no description",pageCount:e.pageCount?"".concat(e.pageCount," p."):"No information about the number of pages",language:(null===(a=e.textObjects[0])||void 0===a?void 0:a.language)||"en-us"}};return{loading:e,error:a,clearError:c,getAllCharacters:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:210;return(await t("https://gateway.marvel.com:443/v1/public/characters?orderBy=modified&limit=9&offset=".concat(e,"&apikey=fb362d4261f1e307fa153563545a7b83"))).data.results.map(i)},getCharacter:async e=>{const a=await t("https://gateway.marvel.com:443/v1/public/characters/".concat(e,"?apikey=fb362d4261f1e307fa153563545a7b83"));return i(a.data.results[0])},getCharacterByName:async e=>(await t("https://gateway.marvel.com:443/v1/public/characters?nameStartsWith=".concat(e,"&apikey=fb362d4261f1e307fa153563545a7b83"))).data.results.map(i),getAllComics:async()=>(await t("https://gateway.marvel.com:443/v1/public/comics?apikey=fb362d4261f1e307fa153563545a7b83\n        ")).data.results.map(n),getComic:async e=>{const a=await t("https://gateway.marvel.com:443/v1/public/comics/".concat(e,"?apikey=fb362d4261f1e307fa153563545a7b83"));return n(a.data.results[0])}}}}}]);
//# sourceMappingURL=907.e43d7946.chunk.js.map